今天，我想谈谈我们最新的标题内疚齿轮Xrd的艺术风格。
我们为什么选择这种艺术风格?
是什么让2d在3d中如此难以伪造?
我们是怎么做到的?
是什么造成了这种差异?
我们的时间有限，我无法面面俱到，
所以它将主要由3D角色艺术和动画组成。

我是Junya Christopher Motomura，在ArcSystemWorks工作的技术艺术家和角色建模师。
我已经在这家公司工作了13年，主要是作为一名3D艺术家，但是在很多其他的职位上，比如游戏设计师，游戏导演，故事脚本，本地化，配音，甚至一些唱歌。
我的作用是
领导人物建模，人物形象的发展，包括编写着色器，索具，和其他位n件
所以，基本上我是3D角色在屏幕上的样子背后的人。

《内疚齿轮》(GuiltyGearXrd)是《内疚齿轮》(GuiltyGear)系列的最新一部，这是一款长时间运行的2D格斗游戏。
在此之前，该系列中的大多数游戏都使用了基于2D精灵的图像。
这个标题是一个重启从长时间暂停的系列，并有一些激烈的变化在艺术风格。
我们选择了3D而不是2D的精灵，同时保持了精灵的魅力。
这是一次信心的大飞跃，我们很感谢它的付出。
(游戏视频)


让3D看起来像2D将是一个艰巨的挑战，我们知道这一点。
这件事很少能完成，所以我们得自己找路，自己铺路。
在2Dart和3Dtechnology方面进行了大量的研究。
因为了解双方对解决这个问题至关重要。
将2D到3D转换效果不佳的元素挑出，逐一解决。
我们打破了很多传统，因为它们不适合这种风格
因此，我们提出了一个新的独特的工作流，大部分都是从零开始构建的

我们游戏中最重要的资产是角色。
没有正确的方法，我们就不可能把比赛做好。
首先，角色需要表现出足够好的2D设计来吸引观众。
模型必须和设计一样好，甚至更好。
他们必须尽可能多地看2D图像。
要做到这一点，我们的原则很简单。
杀死所有的3 d。
如果你发现什么东西看起来是3D的，你就得想办法避免它。
这通常可以归结为艺术家的手工制作，
因为虽然着色器中的数学总是“正确的”，但“正确的”还不够好。
为了得到一个令人信服的2D外观，屏幕上的每件事都必须是有意的选择，而不仅仅是计算的结果。
为了实现这一切，即时反馈是关键。
我们很幸运在我们的建模软件上有一个实时的着色器预览，这给了我们一个真实游戏的值得信任的表现。
(现场演示)

这些模型有一个相当高的多边形数，平均约40000个三角形。
我们知道我们要在过场动画中做额外的特写镜头，所以模特必须在非常近的距离也要坚持。
细节直接用几何建模。
GGXrd中特征模型的特别之处在于它们是非常独立于纹理的。
例如，与一般的3D游戏不同，我们不会为角色使用法线贴图等纹理。
相反，我们使用顶点属性，如顶点法线、顶点颜色和UV坐标来存储数据。
原因是，再一次，额外的特写镜头。
纹理数据的问题是它们非常依赖于分辨率。
像素数据很容易在超近景中出现锯齿，除非你有超高分辨率，否则无法避免这种情况。
另一方面，顶点属性是顶点之间的线性插值，这是完全独立的分辨率。

现在，让我们进入实际的着色。
在阴影处理中，表面要么是亮的，要么是暗的，中间没有值。
这就是阴影阴影很难处理的原因之一。
在绘画中，画家会选择最具说服力的明暗分布。
但在着色器中，一切都是数学，无情的阈值，无情地分割光明和黑暗。
在遮荫中，表面上的每一个小的噪音都会变得非常分散注意力。
表面正常值的微小差异最终可能变成一个巨大的斑点。
一个令人信服的2D外观只能通过精确控制阴影的分布来实现。

我们的celr -shader的代码实际上非常简单。
在计算的主要部分中，使用一个通用的“step”函数来决定该像素是否点亮。
简单来说，这段代码是这样工作的。
如果表面法线正对着光源，它就是亮的。
如果它面对光源的角度超过90度，它就不是。
90度是临界值，但也可以是其他任何值。
这里重要的是以下几点。
阈值，光矢量，和法向量。
这是所有。
只有这三个组件在这个阴影代码中起作用，
所以我们要做的很简单。
完全控制这三个。

首先让我们看看阈值。
我们使用顶点颜色的通道作为阈值的偏移量。
这使得艺术家可以使网格上的某些区域更容易变暗。
这可以用来表示那个顶点的遮挡。
越是被光线遮挡的地方，被光线照射的机会就越少。
艺术家将围绕网格设置值，定义更可能是阴影的区域。
艺术家甚至可以设置值为零，使该地区始终阴影无论如何。
我们在某些地方使用纹理数据的方式是相同的，但是顶点颜色在很多情况下更适合我们。
同样，纹理依赖于分辨率，但是顶点属性不依赖于分辨率。
顶点之间的线性插值给我们一个非常干净的结果，没有任何像素化。
此外，使用顶点颜色进行调整要容易得多，因为即使在修改值时，您也可以从预览中得到即时反馈

接下来,照明。
与普通3D游戏不同，GGxrd没有影响角色的全球照明系统。
每个角色都有他或她自己专用的光矢量，以最好的方式照亮他们的空闲/idle姿势。
在战斗场景中，这种照明不会逐帧改变，但在过场动画中，它会随着人物的动作而变化，以获得每一帧的最佳效果。

最后是法线。
表面法线是阴影阴影很难处理的主要原因之一。
法线中最小的不一致性会导致阴影阴影下的超级明显的伪影。
法线的问题是它们是自动计算的。
而这种计算的结果，往往不是艺术家想要的。
另一方面，在2Dart中着色是非常有意识的。
为了缩小这一差距，我们只需要做一件事。
用意念/intention控制法线。
幸运的是，Softimage为此内置了强大的工具。
虽然编辑法线对游戏图形来说并不新鲜，但我们更进一步，为了消除无意的阴影，我们修改了模型每个主要特性的法线。
人物的脸特别需要手工制作，以得到一个干净的动画外观。
(现场演示)

现在，我们整理了照明，我们必须考虑用什么颜色来画亮的和暗的区域。
动漫中的色彩选择是至关重要的。
每一种颜色都是经过精心挑选的，不仅要表达材料本身，还要表达人物本身。
这并不是简单地用环境色乘以阴影区域。
动画的用色风格因标题而异，但有一点是相同的。
这也是故意的。
灯光和阴影的组合可以表达大量的特点。
不仅是材料，还有人物的氛围。
它本身就是一门艺术，是一项通常交给专业色彩设计师的任务。
为了让动画在3D中看起来正确，我们牢记这一点，并致力于复制这一过程。

通过对动画艺术风格的广泛研究，我们发现阴影的颜色往往表达了材料的坚固性。
较不坚固的材料会让更多的光通过它，得到一个浅色的阴影。
通过材料的光会根据材料的组成而着色。
例如，人类皮肤上的阴影会因为下面的皮肤而变成红色。
为了在着色器中实现这一点，我们使用了两个纹理。
基本纹理定义了表面发光时的颜色。
而Tint纹理定义了它在阴影下的颜色深浅。
将这两个纹理相乘，就得到了阴影的颜色。
这样，颜色的选择完全取决于艺术家。
艺术家可以选择他或她认为合适的颜色，用于材料的亮区和阴影区。
边注。
正如你所看到的，这两种纹理都是由单一颜色组成的正方形区域。
这是因为我们只是简单地使用它们作为颜色查找，而不把纹理的任何细节作为图像。
如前所述，最有意义的信息是存储在网格本身，而不是纹理。

除了颜色和阴影外，线条在阴影处理中也扮演着重要的角色。
事实上，如果你认为在黑白漫画风格，线条将是最重要的视觉方面。
在GGXrd中，我们使用了传统的“倒船体”方法作为特征的轮廓。
第二组较暗的多边形在着色器中生成，并在法线方向上展开，以创建形状轮廓的外壳。
我们添加了一些新的技巧到这个长期建立的方法，以实现对结果的更多控制。
这是普遍使用后效应的轮廓，但我们发现这种方法更适合我们的需要。
首先，我们可以在modeling viewport中预览结果，让我们确切地知道它在游戏中会是什么样子，我们对线条有更多的控制，通过顶点着色器，给予整个模型精确的控制。
有了这个，我们可以在合适的地方给轮廓变量宽度，甚至有时完全擦除它。
同样，顶点颜色也经常用来控制这些线条属性。

我们解决了轮廓线，但还有另外一组线条需要讨论。
内部的线，或者表面的线。
我们需要一种不同的内部线条的方法，因为用于轮廓的“倒转船体”方法不适用于这类线条。
这些线条在2D艺术中扮演着重要的角色，引导着一个平面的结束和另一个平面的开始。
为了得到一个2D的效果，我们只需要找到一个正确的方法。
最简单的方法是简单地在纹理上画线，但是我们知道这有一个主要的限制。
这里的挑战又是分辨率。
我们需要这些角色能够在额外的特写镜头中不被锯齿或像素化。
为了避免像素化，你需要一个无限高分辨率的纹理，这是不切实际的。
所以我们必须找到更好的方法。
我们提出了一种技术，使用特殊的uv分配，以获得锯齿免费超级干净的线条，即使在特写镜头。
下面是这项技术是如何进行的。
所有的线条都被绘制成纹理上的轴向光束，UV与它们并排排列。
uv与这些光束的重叠程度决定了这条线的厚度。
只要像素与轴对齐，就不会出现任何锯齿，所以我们认为可以利用这一点。
它的缺点是表面的uv会失真，但这对我们来说不是问题，因为我们没有在纹理上添加任何细节。
(现场演示)

有了它，我们就有了一个很好的模型，它具有许多代表2D感觉的功能。
现在我们来看动画。

动画是模型和着色器真正发挥作用的地方。
与模型和着色器一样，我们的目标是让它看起来尽可能的2D。
为此，我们采用了一种名为“限定动画”的样式
这是日本动漫产业经常使用的一个术语，与“全动画”相比
与西方的迪斯尼动画不同，它更注重用更少的画面来欺骗观众。
这就是以前的《罪恶装备》的动画效果，为了复制这一点，我们决定使用同样的原则，但这次是3D的。
我们在早期的开发中尝试了“完整的动画”路线，但它并没有传达出2D的感觉。
在关键帧之间插入姿势，使它看起来更平滑，但同时，使它看起来更3D。
所以我们停止在关键帧之间使用插值。
现在每一帧都是关键帧，动画师以最好的方式呈现角色。
你可以想象“定格”动画，在每个画面中玩偶都摆着姿势。
基本上，这就是我们正在做的。
This 看起来 更 忠于 我们 的 老 sprites, 也 让 的 场景 看起来 更 “2Dish”.

为了使用有限的动画作为我们的风格，我们需要建立一个rig匹配这个方法。
因为我们每个动画会有更少的帧数，我们知道我们必须为每个帧添加更多的信息。
这是通过大量的骨骼来完成的，这样动画师就可以在一帧一帧的基础上移动模型的每个特性。
平均每个角色大约有500块骨头。
没有使用模拟，因为它看起来不是2D的。
只是没有办法捕捉动画风格的运动与模拟。
缩放动画被大量使用，因为它让我们做了很多花样。
夸张的动作，让东西隐藏或出现，传统的挤压和拉伸，等等
我们知道我们需要它，但引擎不支持它，所以我们必须自己实现缩放系统。
这是一项艰巨的任务，但由于我们有才华的程序员，它完成了。
这是完全值得的。

关闭关键帧之间的插值是必要的，但仅此是不够的。
您需要另一个技巧来模拟2D动画。
秘诀，就是要变形网格的每一个关键帧，添加不完美。
人类的眼睛和大脑对视角非常敏感。
如果一个三维模型的一部分，通过透视完美地保持它的形状
人类大脑会立即将其识别为一个刚性的三维物体。
为了避免这种情况，添加缺陷是唯一的方法。
自然是不完美的，艺术家是不完美的，因此完美看起来“太做作”。
(现场演示)
每一个关键帧，屏幕上的每一块骨头都是由动画师调整来打破完美
过渡。
这使得每个关键帧更加独特，为单个帧添加了更多的信息。
“你需要在2D中思考”是我们团队中经常使用的一个词。
3D精度在这个工作流程中不是一个优先级，
我们经常牺牲它为了得到一个更动态的组成。
四肢、手和脚得到了大量的比例动画来夸大视角和面部
零件不能保持自然位置。
这与2D动画完全相同。
在准确表达。
我们所做的就是把同样的原理引入3D

是什么造成了这种差异?
在我看来，就是要搞清楚这件事。
X因素是艺术家的意图。
我们使用的所有技术实际上都不是什么新技术。
没有涉及新的硬件或软件创新。
从技术上讲，这种艺术风格早在几年前就已经存在了。
区别在于，艺术家的意图是X因素。
一个工作流程，让艺术家的意图贯彻到底，直到最后的结果，是我们的成就的核心。

可为什么是我们，而不是别人呢?
一个简单的答案是，我们是幸运的。
现在想想，我们在一个非常幸运的情况下做到了这一点。
我们是一个面向2D的工作室，拥有丰富的2D经验，许多艺术家对2D了如指掌。
我们对3D并不陌生，但也没有大量投资于照片现实主义。
我们需要一种新的艺术风格，来区别于我们最好的作品——蓝色上衣。
这个项目是重新启动一个非常成熟的游戏，所以我们确切地知道我们在做什么。
和团队。
这是梦之队。
我们有完全合适的人，他们拥有完成这项挑战所需的技能。
当然，财富并不是一切。
项目参与者的奉献精神和辛勤工作，以及我们粉丝的大力支持，使这一切成为可能。

现在总结一下，这是我最后的提议。
我想看到更多的工作室探索非真实感渲染。
我觉得这方面的研究还不够，还有很大的探索和改进空间。
照片写实主义很棒，但这不是唯一的路线，而且也很拥挤。
如果你看向不同的方向，就会看到一个全新的地平线。
你，可以成为第一个到达那里的先驱者。
边疆在那里等着被发现。
谢谢你！